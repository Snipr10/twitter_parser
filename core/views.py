import json
import re

import requests
from bs4 import BeautifulSoup
from django.shortcuts import render

# Create your views here.
from django.views.decorators.csrf import csrf_exempt
from rest_framework.decorators import api_view, permission_classes
from rest_framework.permissions import AllowAny
from rest_framework.response import Response

from core import models
from twitter_parser.bot.bot import login
from twitter_parser.tasks import start_parsing_by_keyword, start_first_update_posts, add_work_credential, add_proxy
from twitter_parser.utils.find_data import find_value
from twitter_parser.utils.proxy import generate_proxy_session, check_facebook_url


@csrf_exempt
@api_view(["GET"])
@permission_classes((AllowAny,))
def test(request):
    print("stert")
    try:
        for user in models.User.objects.filter(bdate__isnull=True):
            href = user.url
            sp = href.split('/')
            if href[-1] == '/':
                username = sp[-2]
            else:
                username = sp[-1]
            user.screen_name = username
            print(username)
            try:
                user.save()
            except Exception as e:
                user.delete()
    except Exception as e:
        print(e)
    return Response("ok")
    session = generate_proxy_session('test', 'test', '172.96.154.137', 8080)
    a= check_facebook_url(session)

    text ='[2021-06-29 06:31:54,699: WARNING/ForkPoolWorker-17] for (;;);{"payload":{"actions":[{"cmd":"replace","target":"see_more_pager","html":"\u003Cdiv class=\"_45fx _4d7h\" id=\"BrowseResultsContainer\">\u003Cdiv>\u003Cdiv id=\"u_o9rdiu_0_2T\">\u003Cdiv>\u003Cdiv class=\"_10y_ _10z6\">\u003Cdiv class=\"_7k7 storyStream\">\u003Cdiv class=\"_1p82\" id=\"u_o9rdiu_2_Wc\">\u003Cdiv class=\"_2h4o\" id=\"u_o9rdiu_5_x0\">\u003Cdiv>\u003Cdiv class=\"_18qg _3u_7\">\u003Cdiv class=\"_55wo _56bf _5rgl\" id=\"u_o9rdiu_3_eJ\">\u003Cdiv class=\"story_body_container\">\u003Cdiv class=\"_581t\">\u003Ctable class=\"_4g33\">\u003Ctbody>\u003Ctr>\u003Ctd class=\"_5s61\">\u003Cdiv class=\"_67lm\">\u003C\/div>\u003C\/td>\u003Ctd class=\"_4g34 _52we\">\u003Cdiv>\u003Ch3 class=\"_52ja _52jh _4vc- _lqt\">\u003Cspan>\u003Cstrong>\u003Ca href=\"\/&#x41b;&#x435;&#x43d;&#x442;&#x430;-&#x43d;&#x43e;&#x432;&#x43e;&#x441;&#x442;&#x435;&#x439;-&#x422;&#x44b;&#x432;&#x44b;-358957311362603\/?__tn__=C\">\u041b\u0435\u043d\u0442\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u0422\u044b\u0432\u044b\u003C\/a>\u003C\/strong>\u003C\/span>\u003C\/h3>\u003C\/div>\u003C\/td>\u003C\/tr>\u003C\/tbody>\u003C\/table>\u003C\/div>\u003Cdiv class=\"_5rgn\" style=\"\" data-ft=\"&#123;&quot;tn&quot;:&quot;*s&quot;&#125;\">\u003Cdiv>\u003Cspan>\u003Cp>\u0412\u0440\u0438\u043e \u0413\u043b\u0430\u0432\u044b \u0440\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u043f\u043e\u0440\u0443\u0447\u0438\u043b \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u0445 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u0430 \u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u0422\u0443\u0432\u044b \u0438 \u0443\u0440\u043e\u0436\u0435\u043d\u0446\u0435\u0432 \u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d\u0430\u003C\/p>\u003Cp>\u003Cspan> \u0412\u0440\u0438\u043e \u0413\u043b\u0430\u0432\u044b \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u0422\u044b\u0432\u0430 \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0425\u043e\u0432\u0430\u043b\u044b\u0433 \u043f\u043e\u0440\u0443\u0447\u0438\u043b\u2026\u003C\/span>\u003C\/p> \u003Ca href=\"\/story.php?story_fbid=819157755342554&amp;id=358957311362603&amp;__tn__=\u00252As\">\u0415\u0449\u0451\u003C\/a>\u003C\/span>\u003C\/div>\u003C\/div>\u003Cdiv class=\"_5rgo _27x0\" data-ft=\"&#123;&quot;tn&quot;:&quot;H&quot;&#125;\">\u003Ca class=\"_5tip _5tfq\" href=\"http:\/\/lm.facebook.com\/l.php?u=http\u00253A\u00252F\u00252Ftuva-news.net\u00252Fsociety\u00252F2021\u00252F04\u00252F13\u00252F14442.html\u00253Ffbclid\u00253DIwAR1XVBfDjf49FagjF5c5w9Sm7bo1zkerXtil44f8ndNdSrT1f5g31jZLCZ4&amp;h=AT190FvcX11v8HgHIDgzMjKNMozZH9r22z_-zS-hoY9iu73agHQUxuSbZRQUUnm9GZsVTTeUGSFJfOPAjPXH1uUOJtCM0hIKjR_SRK3l9zPPpiGR4v20MTXEEPyHfAv5GUbX0FZUiD55iw\" id=\"u_o9rdiu_4_yc\" target=\"_blank\">\u003Cdiv class=\"_59e9 _55wr _5til\">\u003Ctable class=\"_4g33 _52wc\">\u003Ctbody>\u003Ctr>\u003Ctd class=\"_5s61 _3lsd\">\u003Cimg src=\"https:\/\/external.fssa13-1.fna.fbcdn.net\/safe_image.php?d=AQEL8oq3Yler8kd0&amp;w=112&amp;h=112&amp;url=http\u00253A\u00252F\u00252Ftuva-news.net\u00252Fimg\u00252F20210413\u00252F6563a082895b4c361c1192f1c4dbb29c.jpg&amp;cfs=1&amp;jq=75&amp;ext=jpg&amp;ccb=3-5&amp;_nc_hash=AQESJ_-h8RTXRnim\" width=\"112\" height=\"112\" class=\"img\" \/>\u003C\/td>\u003Ctd class=\"_4g34\">\u003Ch1 class=\"_52jd _52jh _ing\">\u0412\u0440\u0438\u043e \u0413\u043b\u0430\u0432\u044b \u0440\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 \u043f\u043e\u0440\u0443\u0447\u0438\u043b \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u0445 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u0430 \u0436\u0438\u0442\u0435\u043b\u0435\u0439 \u0422\u0443\u0432\u044b \u0438 \u0443\u0440\u043e\u0436\u0435\u043d\u0446\u0435\u0432 \u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d\u0430\u003C\/h1>\u003Cdiv class=\"_52jc _2b-u\">tuva-news.net\u003Cdiv class=\"_52jc\">\u003C\/div>\u003C\/div>\u003C\/td>\u003C\/tr>\u003C\/tbody>\u003C\/table>\u003C\/div>\u003C\/a>\u003Cdiv>\u003C\/div>\u003Cdiv>\u003C\/div>\u003C\/div>\u003C\/div>\u003Cdiv class=\"_5sq4\" data-ft=\"&#123;&quot;tn&quot;:&quot;*W&quot;&#125;\">\u003Cdiv class=\"mfss fcg\">\u003Cabbr>13 \u0430\u043f\u0440\u0435\u043b\u044f, 11:26\u003C\/abbr>\u003Cspan> \u00b7 \u003C\/span>\u003Cspan class=\"_26zb\">\u003Cdiv class=\"_7jwi\">\u003Cspan>\u003Cspan class=\"mfss\">\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0432\u0441\u0435\u043c\u003C\/span>\u003C\/span>\u003Cdiv class=\"_7jwh\">\u003C\/div>\u003C\/div>\u003C\/span>\u003C\/div>\u003Cdiv class=\"mfss fcg\">\u003Cspan class=\"mfss fcg\" id=\"like_819157755342554\">\u003Ca href=\"\/a\/like.php?ul&amp;actionsource=search&amp;ft_ent_identifier=819157755342554&amp;eav=AfZArEsSYJLUIvku0mm-ulzN54U-_e8BHPOUqmPlinHZarAhlusQQEmH6A22rGw9-Gg&amp;av=100070286851230&amp;gfid=AQBvEjWxhWctF4VRkV8&amp;__tn__=\u00252AW\">\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f\u003C\/a>\u003Cspan> \u00b7 \u003C\/span>\u003Ca href=\"\/reactions\/picker\/?ft_id=819157755342554&amp;origin_uri=https\u00253A\u00252F\u00252Fm.facebook.com\u00252Fsearch\u00252Fposts\u00252F\u00253Fq\u00253D\u002525D0\u002525BC\u002525D0\u002525B5\u002525D0\u002525B6\u002525D0\u002525BD\u002525D0\u002525B0\u002525D1\u00252586\u002525D0\u002525B8\u002525D0\u002525BE\u002525D0\u002525BD\u002525D0\u002525B0\u002525D0\u002525BB\u002525D1\u0025258C\u002525D0\u002525BD\u002525D1\u0025258B\u002525D0\u002525B9\u00252B\u002525D0\u002525BA\u002525D0\u002525BE\u002525D0\u002525BD\u002525D1\u00252584\u002525D0\u002525BB\u002525D0\u002525B8\u002525D0\u002525BA\u002525D1\u00252582\u00252B\u002525D0\u002525BF\u002525D0\u002525B5\u002525D1\u00252582\u002525D0\u002525B5\u002525D1\u00252580\u002525D0\u002525B1\u002525D1\u00252583\u002525D1\u00252580\u002525D0\u002525B3\u002526source\u00253Dfilter\u002526pn\u00253D8\u002526isTrending\u00253D0\u002526fb_dtsg_ag\u00253DAQwhc0eZS7MRwGL5rrOmvxDQ0nx4pgOsDz4uKYAxZMdRjsaz\u0025253AAQyyDQQlOICiJhloWVRQd3oH26GD4b1CllGt88axds1_FHSN&amp;av=100070286851230&amp;__tn__=\u00252AW\">\u041e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u003C\/a>\u003C\/span>\u003Cspan> \u00b7 \u003C\/span>\u003Ca href=\"\/story.php?story_fbid=819157755342554&amp;id=358957311362603&amp;__tn__=\u00252AW\" class=\"nowrap\">\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u003C\/a>\u003Cspan> \u00b7 \u003C\/span>\u003Ca href=\"\/composer\/mbasic\/?c_src=share&amp;referrer=other&amp;target=100070286851230&amp;sid=819157752009221&amp;m=self&amp;exit_uri=https\u00253A\u00252F\u00252Fm.facebook.com\u00252Fsearch\u00252Fposts\u00252F\u00253Fq\u00253D\u002525D0\u002525BC\u002525D0\u002525B5\u002525D0\u002525B6\u002525D0\u002525BD\u002525D0\u002525B0\u002525D1\u00252586\u002525D0\u002525B8\u002525D0\u002525BE\u002525D0\u002525BD\u002525D0\u002525B0\u002525D0\u002525BB\u002525D1\u0025258C\u002525D0\u002525BD\u002525D1\u0025258B\u002525D0\u002525B9\u00252B\u002525D0\u002525BA\u002525D0\u002525BE\u002525D0\u002525BD\u002525D1\u00252584\u002525D0\u002525BB\u002525D0\u002525B8\u002525D0\u002525BA\u002525D1\u00252582\u00252B\u002525D0\u002525BF\u002525D0\u002525B5\u002525D1\u00252582\u002525D0\u002525B5\u002525D1\u00252580\u002525D0\u002525B1\u002525D1\u00252583\u002525D1\u00252580\u002525D0\u002525B3\u002526source\u00253Dfilter\u002526pn\u00253D8\u002526isTrending\u00253D0\u002526fb_dtsg_ag\u00253DAQwhc0eZS7MRwGL5rrOmvxDQ0nx4pgOsDz4uKYAxZMdRjsaz\u0025253AAQyyDQQlOICiJhloWVRQd3oH26GD4b1CllGt88axds1_FHSN&amp;shared_from_post_id=819157755342554&amp;cwevent=composer_entry&amp;view_overview&amp;av=100070286851230&amp;__tn__=\u00252AW\">\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f\u003C\/a>\u003Cspan> \u00b7 \u003C\/span>\u003Ca class=\"nowrap\" href=\"\/a\/profile.php?fan&amp;id=358957311362603&amp;origin=feed_story&amp;rb=1&amp;inlineSuggestionsOnLiking=1&amp;gfid=AQBJwG0QkjHX2Lo5cgg&amp;__tn__=\u00252AW\">\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0435 &quot;\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f&quot;\u003C\/a>\u003Cspan> \u00b7 \u003C\/span>\u003Ca href=\"\/story.php?story_fbid=819157755342554&amp;id=358957311362603&amp;__tn__=\u00252AW#footer_action_list\">\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0446\u0435\u043b\u0438\u043a\u043e\u043c\u003C\/a>\u003Cspan> \u00b7 \u003C\/span>\u003Ca href=\"\/save\/story\/basic\/?story_id=S\u00253A_I358957311362603\u00253A819157755342554&amp;action=SAVE&amp;surface=mbasic_story&amp;mechanism=ufi_action_link&amp;privacy_mutation_token=eyJ0eXBlIjowLCJjcmVhdGlvbl90aW1lIjoxNjI0OTQ4MzEzLCJjYWxsc2l0ZV9pZCI6MzU3ODEyNTU1MzAzNDM4fQ\u00253D\u00253D&amp;ext=1625207513&amp;hash=AeS00BBuRQ9-BDck-uQ&amp;__tn__=\u00252AW\">\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c\u003C\/a>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003C\/div>\u003Cdiv class=\"acw apm\" id=\"see_more_pager\">\u003Ca href=\"https:\/\/m.facebook.com\/search\/posts\/?q=\u0025D0\u0025BC\u0025D0\u0025B5\u0025D0\u0025B6\u0025D0\u0025BD\u0025D0\u0025B0\u0025D1\u002586\u0025D0\u0025B8\u0025D0\u0025BE\u0025D0\u0025BD\u0025D0\u0025B0\u0025D0\u0025BB\u0025D1\u00258C\u0025D0\u0025BD\u0025D1\u00258B\u0025D0\u0025B9+\u0025D0\u0025BA\u0025D0\u0025BE\u0025D0\u0025BD\u0025D1\u002584\u0025D0\u0025BB\u0025D0\u0025B8\u0025D0\u0025BA\u0025D1\u002582+\u0025D0\u0025BF\u0025D0\u0025B5\u0025D1\u002582\u0025D0\u0025B5\u0025D1\u002580\u0025D0\u0025B1\u0025D1\u002583\u0025D1\u002580\u0025D0\u0025B3&amp;source=filter&amp;pn=9&amp;isTrending=0&amp;fb_dtsg_ag=AQwhc0eZS7MRwGL5rrOmvxDQ0nx4pgOsDz4uKYAxZMdRjsaz\u00253AAQyyDQQlOICiJhloWVRQd3oH26GD4b1CllGt88axds1_FHSN&amp;cursor=AboaGjPSOHWfsvil4opDbTZNHlPFnGF0YaLMf0j7k1OI3ldBKs4aB3XPC7SdM9vz-nMSQZa3H7KvtFJuU1U0-BHAl5-GUBrwWX3U6mpEhO_ZCPnV6YOSuMQTZebBpT1DSpfQbpY66LgmU8cgWIM3vAlVnKZpDV-emqK2IUljWHPFtO9SifHkiSoaoiBPww0WMOsHv_uhILBUvfCJll66m4kzS65w85U2qHEe3NDXvuTgO5RBHcXmqOX732LZl2fyTS0tj8VpThDO3TzpjH3Bdc4t0S9Sq4C3LfbAKA5QK00kOudrQ_pNyVxFXB4QynaKmVRHueT9HbFf4t6EwzVlySMjbHE-axGZYyjPO1gxhonL2dhkI9TkT2aFeZNQMpYyliBzcUtf0aZM7PrA_Yc4a-9cKZImzKDTNlOSVpX5DrJvIQ4vGmSDBBj_v_U2JhJnnrsZdYZBXndW9sg7uIUvi0_YoHOj8wemOwFpv08092TVKd3_dTlbDPTXHVmdxccfceJsrrdvdWHjxhAE47tzJO_fE3wU7JXtbgFK-szGophc61Bhrz5u0y-gwAEHyH8SYBalJxZMJcnjGc-Wo2bY0jBoJxiELjJk_EW4ydmxuk37b4U4CR5floGxJOs23lQI6frmDE61zqS0XJZU_OgdRtXSG-cGxfXccxOpz4u-TrFF3z-AoesO5IJdBG61l-WIUIsk8t0d0Kuo8V2JwxXgk_fc4nMDqoalHvBmZJpXZR2I9S1-EdtSn9SbpXajEGKcoTgCm_z9mfjN_OwGCi3kqaxxsTWrJtkaoZGz_5XagwY5TF-Y17T3kHRrDNVBLJirmbGpePA73uBXFfbDIn2D1K0Vckr7JUzuJkP25QhqtHxJ4s6ewgqfGa_-x7ALbTRGKtK7W8AqCofSpnz4Lj7uow3xtsCH6BncqhBDjxxgdbOshcvIKGLHYIpZLLpiQDukSPZr8h1Zmu4uvFhgd07G8hmRWdcEEH3Jonpk6QzhzBVjBR5vyIyOAuCjxlF929bCKEy_8a7R6XT64CE1U7h3uCvB75mkDxUxykms26q6sGDb-ydjZSJkMdY4xcUytmqk1jN_XNpC-tHlYYR-DpKsX_VdsOzFSzmERQRMlwJ71BD2PqnbeNrpZ0vd0vR-5R2_nHE4j0C5e5REQdJ6nCjMRJGwTqR1oy0oEGuRYfJWiHt16Y9FVyx4lQIrk-3VI3BDhfYMGfBQf4fn0oSa846Crg0LEysECW_Yad7efuSDVQL2L7AgmxPofNomxjzI2S_qs7PSVyxY3gLaBK8iZCd0n1eWSXBnXOFQJwZbvesdYresne6PqcPGxzhyOqdi3xP5dbZ-nMZHCfusrwYo9w9TLqmH7nPbcOGOj_E6For9NsOkfIeZU1-lFz8h93sx3wawpWJKvmSu-lBcdIYTt5VpZTNoI8DdHrObGfGsOqBVx4Q4K5NIPq-WLOEfRBuPc-EkrV19TywsN5lrQ-hifBAR8i_mj2jm4sq_Vb5M01mQvXJOSkVY6xWGtgbnUipMwyjBSxbWAf3fwihhhWUe45cA9itBKarXh7xKUqCYCd1YPpL7TAT2bbTKCjONI-Y6vXToP54cZDly2VCQjAHcrmGdAq-XpI6bMBpDz8LrxEh7Cx55B1YBOyVIwWvVKPW2DbYPFcYlGNshpM3qQyGn0t1fKU_Yzu-sG1u_4aERG3Kf0zMG9yDmABEftL13iXHzYmX8l_VmNG0G86Q7qxEBq-5NwjsWY43M2KjkXzFb1rC_qxyDtA&amp;usid=b71144e0c558660ee50c9c463cc04efd&amp;tsid\">\u003Cspan>\u0415\u0449\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b\u003C\/span>\u003C\/a>\u003C\/div>\u003C\/div>","replaceifexists":false,"allownull":false},{"cmd":"append","target":"static_templates","html":"","replaceifexists":true},{"cmd":"script","type":"onload","code":"(new (require(\"ServerJS\"))()).handle({\"define\":[[\"BootloaderConfig\",[],{\"deferBootloads\":false,\"jsRetries\":[200,500],\"jsRetryAbortNum\":2,\"jsRetryAbortTime\":5,\"silentDups\":false,\"hypStep4\":false},329],[\"CSSLoaderConfig\",[],{\"timeout\":5000,\"modulePrefix\":\"BLCSS:\"},619],[\"CookieCoreConfig\",[],{\"a11y\":{},\"c_user\":{},\"cppo\":{\"t\":86400},\"dpr\":{\"t\":604800},\"fbl_ci\":{\"t\":31536000},\"fbl_cs\":{\"t\":31536000},\"fbl_st\":{\"t\":31536000},\"i_user\":{},\"js_ver\":{\"t\":604800},\"locale\":{\"t\":604800},\"m_pixel_ratio\":{\"t\":604800},\"noscript\":{},\"presence\":{\"t\":2592000},\"sfau\":{},\"usida\":{},\"vpd\":{\"t\":5184000},\"wd\":{\"t\":604800},\"x-referer\":{},\"x-src\":{\"t\":1}},2104],[\"CurrentCommunityInitialData\",[],{},490],[\"CurrentUserInitialData\",[],{\"ACCOUNT_ID\":\"100070286851230\",\"USER_ID\":\"100070286851230\",\"NAME\":\"\\u041f\\u043e\\u043b\\u0438\\u043d\\u0430 \\u041a\\u043d\\u044f\\u0437\\u044c\",\"SHORT_NAME\":\"\\u041f\\u043e\\u043b\\u0438\\u043d\\u0430\",\"IS_BUSINESS_PERSON_ACCOUNT\":false,\"HAS_SECONDARY_BUSINESS_PERSON\":false,\"IS_MESSENGER_ONLY_USER\":false,\"IS_DEACTIVATED_ALLOWED_ON_MESSENGER\":false,\"IS_MESSENGER_CALL_GUEST_USER\":false,\"IS_WORK_MESSENGER_CALL_GUEST_USER\":false,\"APP_ID\":\"412378670482\",\"IS_BUSINESS_DOMAIN\":false},270],[\"FbtQTOverrides\",[],{\"overrides\":{}},551],[\"FbtResultGK\",[],{\"shouldReturnFbtResult\":true,\"inlineMode\":\"NO_INLINE\"},876],[\"ISB\",[],{},330],[\"IntlPhonologicalRules\",[],{\"meta\":{},\"patterns\":{}},1496],[\"IntlViewerContext\",[],{\"GENDER\":2},772],[\"LSD\",[],{\"token\":\"TEWCCCW87ECl9IvOD3xSYF\"},323],[\"MJSEnvironment\",[],{\"IS_APPLE_WEBKIT_IOS\":false,\"IS_TABLET\":false,\"IS_ANDROID\":false,\"IS_CHROME\":false,\"IS_FIREFOX\":false,\"IS_WINDOWS_PHONE\":false,\"IS_SAMSUNG_DEVICE\":false,\"OS_VERSION\":0,\"PIXEL_RATIO\":1,\"BROWSER_NAME\":\"Unknown\"},46],[\"MRequestConfig\",[],{\"dtsg\":{\"token\":\"AQGxql8pOWpG72g:AQH9W8xIIoDeENU\",\"valid_for\":86400,\"expire\":1625034714},\"dtsg_ag\":{\"token\":\"AQwhc0eZS7MRwGL5rrOmvxDQ0nx4pgOsDz4uKYAxZMdRjkms:AQwrAgZzSpnogC615P4EYAXKLfc9ZmzJUjkQxQ0pwTyP38z1\",\"valid_for\":604800,\"expire\":1625553114},\"checkResponseOrigin\":true,\"checkResponseToken\":true,\"cleanFinishedRequest\":false,\"cleanFinishedPrefetchRequests\":false,\"ajaxResponseToken\":{\"secret\":\"8iTf_eg8Oig5qGf9N85dZXw3YCNZYNuT\",\"encrypted\":\"AYmkRvcXGphG1F0TOg_gWAMfTZvR4FOO4VG6rP685s3T7r42M46LkrGU6131-gXgczKhBdIPQBgPY2v8Q7bOAgCI7p37n-fNvrzGSSW8uPWhLA\"}},51],[\"NumberFormatConfig\",[],{\"decimalSeparator\":\",\",\"numberDelimiter\":\"\\u00a0\",\"minDigitsForThousandsSeparator\":4,\"standardDecimalPatternInfo\":{\"primaryGroupSize\":3,\"secondaryGroupSize\":3},\"numberingSystemData\":null},54],[\"ServerNonce\",[],{\"ServerNonce\":\"c-Nlc6XdPKUsMjSO_4SC9J\"},141],[\"SiteData\",[],{\"server_revision\":1004051597,\"client_revision\":1004051597,\"tier\":\"\",\"push_phase\":\"C3\",\"pkg_cohort\":\"FW_EXP:mbasic_pkg\",\"haste_session\":\"18807.FW_EXP:mbasic_pkg.2.0.0.0\",\"pr\":1,\"haste_site\":\"mobile\",\"be_one_ahead\":false,\"ir_on\":true,\"is_rtl\":false,\"is_comet\":false,\"is_experimental_tier\":false,\"is_jit_warmed_up\":true,\"hsi\":\"6979099866742179665\",\"semr_host_bucket\":\"6\",\"bl_hash_version\":2,\"skip_rd_bl\":true,\"comet_env\":0,\"spin\":0,\"__spin_r\":1004051597,\"__spin_b\":\"trunk\",\"__spin_t\":1624948313,\"vip\":\"157.240.216.35\"},317],[\"SprinkleConfig\",[],{\"param_name\":\"jazoest\",\"version\":2,\"should_randomize\":false},2111],[\"UserAgentData\",[],{\"browserArchitecture\":\"32\",\"browserFullVersion\":null,\"browserMinorVersion\":null,\"browserName\":\"Unknown\",\"browserVersion\":null,\"deviceName\":\"Unknown\",\"engineName\":\"Unknown\",\"engineVersion\":null,\"platformArchitecture\":\"32\",\"platformName\":\"Unknown\",\"platformVersion\":null,\"platformFullVersion\":null},527],[\"PromiseUsePolyfillSetImmediateGK\",[],{\"www_always_use_polyfill_setimmediate\":false},2190],[\"KSConfig\",[],{\"killed\":{\"__set\":[\"MLHUB_FLOW_AUTOREFRESH_SEARCH\",\"NEKO_DISABLE_CREATE_FOR_SAP\",\"EO_DISABLE_SYSTEM_SERIAL_NUMBER_FREE_TYPING_IN_CPE_NON_CLIENT\",\"EO_SRT_HELPDESK_DASHBOARD_DISABLE_UNUSED_TAB_IN_RIGHT_PANEL\",\"MOBILITY_KILL_OLD_VISIBILITY_POSITION_SETTING\",\"WORKPLACE_DISPLAY_TEXT_EVIDENCE_REPORTING\",\"BUSINESS_INVITE_FLOW_WITH_SELLER_PROFILE\",\"ADS_TEMPLATE_UNIFICATION_IN_IG_STORIES\",\"DCP_CYCLE_COUNT_CLASSIFICATION_UI\",\"BUY_AT_UI_LINE_DELETE\",\"BUSINESS_GRAPH_SETTING_APP_ASSIGNED_USERS_NEW_API\",\"BUSINESS_GRAPH_SETTING_BU_ASSIGNED_USERS_NEW_API\",\"BUSINESS_GRAPH_SETTING_ESG_ASSIGNED_USERS_NEW_API\",\"BUSINESS_GRAPH_SETTING_PRODUCT_CATALOG_ASSIGNED_USERS_NEW_API\",\"BUSINESS_GRAPH_SETTING_SESG_ASSIGNED_USERS_NEW_API\",\"BUSINESS_GRAPH_SETTING_WABA_ASSIGNED_USERS_NEW_API\",\"ADS_PLACEMENT_FIX_PUBLISHER_PLATFORMS_MUTATION\",\"FORCE_FETCH_BOOSTED_COMPONENT_AFTER_ADS_CREATION\",\"VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG\",\"SNIVY_GROUP_BY_EVENT_TRACE_ID_AND_NAME\",\"ADS_STORE_VISITS_METRICS_DEPRECATION\",\"DYNAMIC_ADS_SET_CATALOG_AND_PRODUCT_SET_TOGETHER\",\"AD_DRAFT_ENABLE_SYNCRHONOUS_FRAGMENT_VALIDATION\",\"NEKO_ENABLE_RESET_SAP_FOR_CREATE_AD_SET_CONTEXTUAL\",\"LAB_NET_NEW_UI_RELEASE\",\"HELPDESK_USE_XDS_SEARCHABLE_INPUT_FOR_WORKFLOW\",\"POCKET_MONSTERS_CREATE\",\"POCKET_MONSTERS_DELETE\",\"SRT_BANZAI_SRT_CORE_LOGGER\",\"SRT_BANZAI_SRT_MAIN_LOGGER\",\"SIMPL_SAMPLING_HEALTH_CARD\",\"WORKPLACE_PLATFORM_SECURE_APPS_MAILBOXES\",\"POCKET_MONSTERS_UPDATE_NAME\",\"ADS_INTEGRATION_PORTAL_RELAY_LIVE\",\"IC_DISABLE_MERGE_TOOL_FEED_CHECK_FOR_REPLACE_SCHEDULE\",\"INTERN_TYPEAHEAD_USE_RELAY_ENVIRONMENT_FROM_CONTEXT\"]},\"ko\":{\"__set\":[\"3OsLvnSHNTt\",\"1G7wJ6bJt9K\",\"9NpkGYwzrPG\",\"6fHw06UmAMW\",\"3oh5Mw86USj\",\"8NAceEy9JZo\",\"7FOIzos6XJX\",\"6xuJHOrdskA\",\"75fREERrb3F\",\"rf8JEPGgOi\",\"4j36SVzvP3w\",\"4NSq3ZC4ScE\",\"53gCxKq281G\",\"3yzzwBY7Npj\",\"1onzIv0jH6H\",\"8PlKuowafe8\",\"1ntjZ2zgf03\",\"4SIH2GRVX5W\",\"2dhqRnqXGLQ\",\"2WgiNOrHVuC\",\"amKHb4Cw4WI\",\"5mNEXob0nTj\",\"8rDvN9vWdAK\",\"9cL5o2kjfZo\",\"DDZhogI19W\",\"aDayprn6pbH\",\"acrJTh9WGdp\",\"1oOE64fL4wO\",\"9Gd8qgRxn8z\",\"MPMaqnqZ9c\",\"4MzX0ipjWq\",\"5XCz1h9Iaw3\",\"7r6mSP7ofr2\",\"5zgf0XOYSz7\",\"6DGPLrRdyts\",\"65QXccYPZEf\"]}},2580],[\"TimeSliceInteractionSV\",[],{\"on_demand_reference_counting\":true,\"on_demand_profiling_counters\":true,\"default_rate\":1000,\"lite_default_rate\":100,\"interaction_to_lite_coinflip\":{\"ADS_INTERFACES_INTERACTION\":0,\"ads_perf_scenario\":0,\"ads_wait_time\":0,\"Event\":10},\"interaction_to_coinflip\":{\"ADS_INTERFACES_INTERACTION\":1,\"ads_perf_scenario\":1,\"ads_wait_time\":1,\"Event\":500},\"enable_heartbeat\":true,\"maxBlockMergeDuration\":0,\"maxBlockMergeDistance\":0,\"enable_banzai_stream\":true,\"user_timing_coinflip\":50,\"banzai_stream_coinflip\":0,\"compression_enabled\":true,\"ref_counting_fix\":false,\"ref_counting_cont_fix\":false,\"also_record_new_timeslice_format\":false,\"force_async_request_tracing_on\":false},2609],[\"JSErrorLoggingConfig\",[],{\"appId\":412378670482,\"extra\":[],\"reportInterval\":50,\"sampleWeight\":null,\"sampleWeightKey\":\"__jssesw\"},2776],[\"CookieCoreLoggingConfig\",[],{\"maximumIgnorableStallMs\":16.67,\"sampleRate\":9.7e-5,\"sampleRateClassic\":1.0e-10,\"sampleRateFastStale\":1.0e-8},3401],[\"ImmediateImplementationExperiments\",[],{\"prefer_message_channel\":true},3419],[\"UriNeedRawQuerySVConfig\",[],{\"uris\":[\"dms.netmng.com\",\"doubleclick.net\",\"r.msn.com\",\"watchit.sky.com\",\"graphite.instagram.com\",\"www.kfc.co.th\",\"learn.pantheon.io\",\"www.landmarkshops.in\",\"www.ncl.com\",\"s0.wp.com\",\"www.tatacliq.com\",\"bs.serving-sys.com\",\"kohls.com\",\"lazada.co.th\",\"xg4ken.com\",\"technopark.ru\",\"officedepot.com.mx\",\"bestbuy.com.mx\",\"booking.com\"]},3871],[\"RunGatingConfig\",[],{\"shouldUseBrowserUnload\":false},3914],[\"InitialCookieConsent\",[],{\"deferCookies\":false,\"initialConsent\":{\"__set\":[1,2]},\"noCookies\":false,\"shouldShowCookieBanner\":false},4328],[\"TrustedTypesConfig\",[],{\"useTrustedTypes\":false,\"reportOnly\":false},4548],[\"WebConnectionClassServerGuess\",[],{\"connectionClass\":\"EXCELLENT\"},4705],[\"BootloaderEndpointConfig\",[],{\"debugNoBatching\":false,\"endpointURI\":\"https:\\\/\\\/m.facebook.com\\\/ajax\\\/bootloader-endpoint\\\/\"},5094],[\"ServerTimeData\",[],{\"serverTime\":1624948314012,\"timeOfRequestStart\":1624948313167.6,\"timeOfResponseStart\":1624948313167.6},5943],[\"ErrorDebugHooks\",[],{\"SnapShotHook\":null},185],[\"MarauderConfig\",[],{\"app_version\":\"1.0.0.0 (1004051597)\",\"gk_enabled\":false},31],[\"ZeroCategoryHeader\",[],{},1127],[\"IntlNumberTypeConfig\",[],{\"impl\":\"if (n \\u0025 10 === 1 && n \\u0025 100 !== 11) { return IntlVariations.NUMBER_ONE; } else if (n \\u0025 10 >= 2 && n \\u0025 10 \\u003C= 4 && (n \\u0025 100 \\u003C 12 || n \\u0025 100 > 14)) { return IntlVariations.NUMBER_FEW; } else { return IntlVariations.NUMBER_MANY; }\"},3405],[\"ZeroRewriteRules\",[],{\"rewrite_rules\":{},\"whitelist\":{\"\\\/hr\\\/r\":1,\"\\\/hr\\\/p\":1,\"\\\/zero\\\/unsupported_browser\\\/\":1,\"\\\/zero\\\/policy\\\/optin\":1,\"\\\/zero\\\/optin\\\/write\\\/\":1,\"\\\/zero\\\/optin\\\/legal\\\/\":1,\"\\\/zero\\\/optin\\\/free\\\/\":1,\"\\\/about\\\/privacy\\\/\":1,\"\\\/about\\\/privacy\\\/update\\\/\":1,\"\\\/about\\\/privacy\\\/update\":1,\"\\\/zero\\\/toggle\\\/welcome\\\/\":1,\"\\\/zero\\\/toggle\\\/nux\\\/\":1,\"\\\/zero\\\/toggle\\\/settings\\\/\":1,\"\\\/fup\\\/interstitial\\\/\":1,\"\\\/work\\\/landing\":1,\"\\\/work\\\/login\\\/\":1,\"\\\/work\\\/email\\\/\":1,\"\\\/ai.php\":1,\"\\\/js_dialog_resources\\\/dialog_descriptions_android.json\":0,\"\\\/connect\\\/jsdialog\\\/MPlatformAppInvitesJSDialog\\\/\":0,\"\\\/connect\\\/jsdialog\\\/MPlatformOAuthShimJSDialog\\\/\":0,\"\\\/connect\\\/jsdialog\\\/MPlatformLikeJSDialog\\\/\":0,\"\\\/qp\\\/interstitial\\\/\":1,\"\\\/qp\\\/action\\\/redirect\\\/\":1,\"\\\/qp\\\/action\\\/close\\\/\":1,\"\\\/zero\\\/support\\\/ineligible\\\/\":1,\"\\\/zero_balance_redirect\\\/\":1,\"\\\/zero_balance_redirect\":1,\"\\\/zero_balance_redirect\\\/l\\\/\":1,\"\\\/l.php\":1,\"\\\/lsr.php\":1,\"\\\/ajax\\\/dtsg\\\/\":1,\"\\\/checkpoint\\\/block\\\/\":1,\"\\\/exitdsite\":1,\"\\\/zero\\\/balance\\\/pixel\\\/\":1,\"\\\/zero\\\/balance\\\/\":1,\"\\\/zero\\\/balance\\\/carrier_landing\\\/\":1,\"\\\/zero\\\/flex\\\/logging\\\/\":1,\"\\\/tr\":1,\"\\\/tr\\\/\":1,\"\\\/sem_campaigns\\\/sem_pixel_test\\\/\":1,\"\\\/bookmarks\\\/flyout\\\/body\\\/\":1,\"\\\/zero\\\/subno\\\/\":1,\"\\\/confirmemail.php\":1,\"\\\/policies\\\/\":1,\"\\\/mobile\\\/internetdotorg\\\/classifier\\\/\":1,\"\\\/zero\\\/dogfooding\":1,\"\\\/xti.php\":1,\"\\\/zero\\\/fblite\\\/config\\\/\":1,\"\\\/hr\\\/zsh\\\/wc\\\/\":1,\"\\\/ajax\\\/bootloader-endpoint\\\/\":1,\"\\\/mobile\\\/zero\\\/carrier_page\\\/\":1,\"\\\/mobile\\\/zero\\\/carrier_page\\\/education_page\\\/\":1,\"\\\/mobile\\\/zero\\\/carrier_page\\\/feature_switch\\\/\":1,\"\\\/mobile\\\/zero\\\/carrier_page\\\/settings_page\\\/\":1,\"\\\/aloha_check_build\":1,\"\\\/upsell\\\/zbd\\\/softnudge\\\/\":1,\"\\\/mobile\\\/zero\\\/af_transition\\\/\":1,\"\\\/mobile\\\/zero\\\/af_transition\\\/action\\\/\":1,\"\\\/mobile\\\/zero\\\/freemium\\\/\":1,\"\\\/mobile\\\/zero\\\/freemium\\\/redirect\\\/\":1,\"\\\/mobile\\\/zero\\\/freemium\\\/zero_fup\\\/\":1,\"\\\/4oh4.php\":1,\"\\\/autologin.php\":1,\"\\\/birthday_help.php\":1,\"\\\/checkpoint\\\/\":1,\"\\\/contact-importer\\\/\":1,\"\\\/cr.php\":1,\"\\\/legal\\\/terms\\\/\":1,\"\\\/login.php\":1,\"\\\/login\\\/\":1,\"\\\/mobile\\\/account\\\/\":1,\"\\\/n\\\/\":1,\"\\\/remote_test_device\\\/\":1,\"\\\/upsell\\\/buy\\\/\":1,\"\\\/upsell\\\/buyconfirm\\\/\":1,\"\\\/upsell\\\/buyresult\\\/\":1,\"\\\/upsell\\\/promos\\\/\":1,\"\\\/upsell\\\/continue\\\/\":1,\"\\\/upsell\\\/h\\\/promos\\\/\":1,\"\\\/upsell\\\/loan\\\/learnmore\\\/\":1,\"\\\/upsell\\\/purchase\\\/\":1,\"\\\/upsell\\\/promos\\\/upgrade\\\/\":1,\"\\\/upsell\\\/buy_redirect\\\/\":1,\"\\\/upsell\\\/loan\\\/buyconfirm\\\/\":1,\"\\\/upsell\\\/loan\\\/buy\\\/\":1,\"\\\/upsell\\\/sms\\\/\":1,\"\\\/wap\\\/a\\\/channel\\\/reconnect.php\":1,\"\\\/wap\\\/a\\\/nux\\\/wizard\\\/nav.php\":1,\"\\\/wap\\\/appreg.php\":1,\"\\\/wap\\\/birthday_help.php\":1,\"\\\/wap\\\/c.php\":1,\"\\\/wap\\\/confirmemail.php\":1,\"\\\/wap\\\/cr.php\":1,\"\\\/wap\\\/login.php\":1,\"\\\/wap\\\/r.php\":1,\"\\\/zero\\\/datapolicy\":1,\"\\\/a\\\/timezone.php\":1,\"\\\/a\\\/bz\":1,\"\\\/bz\\\/reliability\":1,\"\\\/r.php\":1,\"\\\/mr\\\/\":1,\"\\\/reg\\\/\":1,\"\\\/registration\\\/log\\\/\":1,\"\\\/terms\\\/\":1,\"\\\/f123\\\/\":1,\"\\\/expert\\\/\":1,\"\\\/experts\\\/\":1,\"\\\/terms\\\/index.php\":1,\"\\\/terms.php\":1,\"\\\/srr\\\/\":1,\"\\\/msite\\\/redirect\\\/\":1,\"\\\/fbs\\\/pixel\\\/\":1,\"\\\/contactpoint\\\/preconfirmation\\\/\":1,\"\\\/contactpoint\\\/cliff\\\/\":1,\"\\\/contactpoint\\\/confirm\\\/submit\\\/\":1,\"\\\/contactpoint\\\/confirmed\\\/\":1,\"\\\/contactpoint\\\/login\\\/\":1,\"\\\/preconfirmation\\\/contactpoint_change\\\/\":1,\"\\\/help\\\/contact\\\/\":1,\"\\\/survey\\\/\":1,\"\\\/upsell\\\/loyaltytopup\\\/accept\\\/\":1,\"\\\/settings\\\/\":1,\"\\\/lite\\\/\":1,\"\\\/zero_status_update\\\/\":1,\"\\\/operator_store\\\/\":1,\"\\\/upsell\\\/\":1,\"\\\/wifiauth\\\/login\\\/\":1}},1478],[\"AnalyticsCoreData\",[],{\"device_id\":\"$^|Acb2GBFizWlDTNSQISqx0n0KiIvOpt_th3ktk7v_pEb0G9IKOa53G7_hZdKRm03meq1rlW_DnRyidiu9ZbwJMeUf52S1E64|fd.AcansFq35NL22z5SHTEZ0s-f7bSAv5Yss0SUaKCkzQh1rtu7mtjfh9zrNbTP4WPk6cPMyfIw-9lWBsR0snsoYZ1G\",\"app_id\":\"412378670482\",\"enable_bladerunner\":true,\"enable_ack\":true,\"push_phase\":\"C3\",\"enable_observer\":false},5237],[\"LinkshimHandlerConfig\",[],{\"supports_meta_referrer\":false,\"default_meta_referrer_policy\":\"default\",\"switched_meta_referrer_policy\":\"origin\",\"non_linkshim_lnfb_mode\":\"ie\",\"link_react_default_hash\":\"AT0G4iEgZFBDPrzBfibpKej-Ju7Ehp0NNQ1ekVo2EEtWHusD91gNawZ3zQPYrtkaP72ZNQMJdNDU8q29PWJ5f86Bi7A1F-60DL07Nj613Gbu1o2rXy8r6CbwBHdtz2Ns\",\"untrusted_link_default_hash\":\"AT3mpQlFNch4-G3HnzJ1lZTDUO5haXElwyAfFjgWFuGXFMl2r64B5b0hd33HgL9KJ1gNfzKxey2wShiYpzcMPwOTLc3QNADB-BBSOF4VtWncXX3bn281inJ7TFCOkYZu\",\"linkshim_host\":\"lm.facebook.com\",\"linkshim_path\":\"\\\/l.php\",\"linkshim_enc_param\":\"h\",\"linkshim_url_param\":\"u\",\"use_rel_no_opener\":false,\"always_use_https\":false,\"onion_always_shim\":true,\"middle_click_requires_event\":false,\"www_safe_js_mode\":\"hover\",\"m_safe_js_mode\":null,\"ghl_param_link_shim\":false,\"click_ids\":[\"IwAR1yP3Dt1Rj_9eRvFG6vvAl7H00lsENK2CyyqvXRvZQFojVbC3rrlR4RFgs\",\"IwAR0W7blvlH0np1Vbynd7z9luo-KZrAyLykpi7d5bjlj0UtxQem1QRFY-2Ac\",\"IwAR27LMcM9gTsEvG6E6c7RZjYqkOhY25eqXZ82y32utPz3Y1Mna9HqjZrePs\",\"IwAR15Gy8L9lI8ZQJY48MOl_6Opfea9Q08cNQiYjBDAAIQ4sXGs8U1VLpBFDg\",\"IwAR1qW_80NWaCby4b_u6B1MfvRfHmXi_ezX7lYE65kJC2Z6uzI3vXkY9tDlQ\",\"IwAR0tyRlGYXcPzHRVcYwH_yKIg9RQPRIr6sTpkAvtuX6I4MGXjvRTvaSWEl4\",\"IwAR0jFM7B5ZQpgB1atQjiRMGKgoGpUojPigJ0VqNT2hEdE_-5CB2HheEq9XA\",\"IwAR2dLdwdjCuFJliPMmv_vDWIVfecrNoydBpnrHB7nYsIm_ifB156DKUpM4I\",\"IwAR3NmiFd9mBgIrlWY-nJ41Pz7vBCF61IcMw8H-Xa4L5MXULt6S3tojHptP4\",\"IwAR36KFLiLvUcou3cMDlghh5g8WSwkhdpiDqbuv4klyQg-roWbLpVzIz_6PA\",\"IwAR0II5pyu47MvrTqBobETjMdRuqTRBkqdl3qbsABAv9O2GD_LgWjmfjXwMQ\",\"IwAR3ZXscBkwJpjQK2wOss7qwRFw9Pwg6m7ps2ZagQ8MTd-CKQwo_ATjM7HZg\",\"IwAR3vZ1d2be1FA7lqg4-tvEi7XZpjQ-n_yhjvaRrzGyguEEvh76-MaWkgh8g\",\"IwAR3GacOuWZ_1b2LUUxgvcc7hU53rHobBNU89nVfHg2nDQhscGOb3FFd4DVY\",\"IwAR2CLS33NjzpacAkHakBNeIahK9zM_0PgQj3g5AeMnkUd57g4cXwfyL-v_Y\",\"IwAR3zexiP-RbPEl0AFCQsWQozlmZ6P3a12_OM5RhgMEJHWE28rBDVsCxJdrY\",\"IwAR3U539V7Ux3adgU9pk-LeYoF4kpSs9Z3pGqAZfY-p9f60QlNID7x2V38cg\",\"IwAR2zIk_7LBODXda-gdcxGOiHID1TMrKtqvyItb-EbgMtAEXkQ2OKkvbhMAg\",\"IwAR1lsw6U6_KCdzG-EHaYOQsv9sjYgfSowMVW4oG9K02453fK3yZJGiEQyT8\",\"IwAR0fQh5dNfbOsWN6JFPV8iB1CZstRWqjjGsJTbstvU-kBi1eGUavgaj1vfE\",\"IwAR2rQY38ufC_656YQDpeRnYKKpbw-wiSNCA_icNzw-j0v5WpCumlsef1Efk\",\"IwAR0tRR7Urufl1a132uqU40mLMJ8ITcubo6yAVzJOcHABnq5CyU3SUhXH5NU\",\"IwAR3dXOnHgIYfKjaLFLlcPrcN6WGqkarTS0dsrw3S-0Ug7eRiBF1qkdjEuGY\",\"IwAR3_ZY-losu6pz9K726dqPE7Xw8wAS_K9n292IcE-QA8nvTn9HDEOT0fz9w\",\"IwAR2Zf7ABr845S429tGCK3ekQmMMY1Ed_9u0hrAQrznPIMP-f_pjVuEOY5SA\",\"IwAR3FXyqngWMOjQU5-GAx8rSemba-NQft-t0nSc4q4DpoRbK884Hs3UuGsjY\",\"IwAR15LUA7La05G0NCVYRNVoI5C4iEvDv0KyNby5KFlvX8xClhd42BKF3oCbY\",\"IwAR0kQiQcSiYvSnAwstFqhhLTJRaGJ3-dpjFHV2W-f1VMb4jJJbmXRI7MYlc\",\"IwAR36n1879-Kyo8PviFDzgB1EoXoeNMCHJ3zvoFaQyS73tHnIp3Nd6X_xtuc\",\"IwAR1-0VeN8Tb-J4mQxkQK3Ty7W80bP0aEuCOE1mLtTLedKxc9wZKXiJQHNfw\",\"IwAR01mxJNGDBE5W0nw77Oqp21B65MeSlVq9xa_WGcV3CO0Fi9XOk6XjLij3U\",\"IwAR3DJWBXfqsxZCw7_L5xWKFnQSDrFMyQVM0DHV6mUKX9nQwo8kRFkAwpmOA\",\"IwAR0NuM7mJMv2HrINZM46kJa2hxIGQkJSWolSQPl8tTiTSx1Q0JRWosGhUEw\",\"IwAR1XEC5opMBeTZBrXqVT1bw4GtI5qDWU2roHr4RfBRjIXXGrfsFM32l4HmQ\",\"IwAR2dSypt9s62_rB7zLIn-eyXf0IvhaGVuFvLZ-3SHO-9DlGg65_nmN8PHCo\",\"IwAR3_I7eAVQsF7YyUGe9X1dhbe_VWA6SUoz4nqg9CroEoiA-PHBBaBVcRKqo\",\"IwAR1Wakrl7tcDGc2FZlpFeP6L6-SBJJQtcjS4sflv_4Wnt0mF1nlhrFYBL5c\",\"IwAR1xZ7PcCz5wv9kr4KM-B_nyVAEmjNwav7tQe17PTyLyd0kPb1Iwj4yxHnI\",\"IwAR2qxrBP2ghNRH8EahXKJIW2Ug_i8KtLUPlwYXAGPDwlt0jIeiD2sfxi00g\",\"IwAR1i2uVYkW4nrpnLYWh7F09my8XH_Jgq3I6ejU_ycI2LD5xwlC1e7VFTI9Q\",\"IwAR1PUpLJresVLVsL9j9d7K-bzuXKVuqFH5hnJeTlCjLwAAVGxF9qUcfmLR4\",\"IwAR2USgeIjuPzw5hBfufil4q0QLznWoDrQfXkFX3TJIJ9CpapFl7PpZZeUTQ\",\"IwAR1lg2F-8t4tsvHQITY7sflefFPCAIu05yG6cr5d0t48wCAl9hK7BNmfKRo\",\"IwAR0s0cQinfJ7CdgEqTZtOISM3iA9MYABfrZJKGuKo7tb198JkB3iP0ulBlM\",\"IwAR1zkUuK6mgjckwTPa1TI6xKworkwcOxul5RZ4PgzAyZ1dv9RQRacA74CxA\",\"IwAR2Jk9Npr0Gv_czZRxiqVHQWCliHQcy5ik3eKdfdJ2ZWUetJ3U46HF4e5H0\",\"IwAR07n5q9LhXGou34MSCG6xl6cwVNV3OFm6aFN-N0hDGv564eu1uGyOrBm3Q\",\"IwAR3oZDXu-mArWhXkVMUEezzPwsEejL-M97pYBxrGrAfwujOQn2UfPCHBgTM\",\"IwAR0tesA9wVXe1TZrIaVQnLNhNf_mIO2DlOQlZdr_jMEKThtX7f4VCciqud0\",\"IwAR263M6O1wRwt_TJTds1lbp_NSVSeSGAL4A74rLxv3WffxOlCeJPwS24p-w\"],\"is_linkshim_supported\":true,\"current_domain\":\"facebook.com\",\"blocklisted_domains\":[\"ad.doubleclick.net\",\"ads-encryption-url-example.com\",\"bs.serving-sys.com\",\"ad.atdmt.com\"],\"is_mobile_device\":false},27],[\"cr:696703\",[],{\"__rc\":[null,\"Aa2KDNOS9s8NUz-46FfR4ipdKxIhTJ1nwBxcXpVVPg9pbZeODu4RfsQjoE3Q64zgy3m7ogCnF60xipXTxQ5wz9S3Wd8\"]},-1],[\"cr:717822\",[\"TimeSliceImpl\"],{\"__rc\":[\"TimeSliceImpl\",\"Aa2KDNOS9s8NUz-46FfR4ipdKxIhTJ1nwBxcXpVVPg9pbZeODu4RfsQjoE3Q64zgy3m7ogCnF60xipXTxQ5wz9S3Wd8\"]},-1],[\"cr:1642797\",[\"BanzaiBase\"],{\"__rc\":[\"BanzaiBase\",\"Aa2KDNOS9s8NUz-46FfR4ipdKxIhTJ1nwBxcXpVVPg9pbZeODu4RfsQjoE3Q64zgy3m7ogCnF60xipXTxQ5wz9S3Wd8\"]},-1],[\"cr:1094907\",[],{\"__rc\":[null,\"Aa2LvVJwre75hGkPJmW3K4oSeJsHgZlWCraaW6gGOrhk1aE9rTKrF7hHlLyviy1xu5RVCeQHDTByfmmWjbZS004\"]},-1],[\"MBanzaiConfig\",[],{\"MAX_SIZE\":10000,\"MAX_WAIT\":30000,\"MIN_WAIT\":null,\"RESTORE_WAIT\":30000,\"blacklist\":[\"time_spent\"],\"disabled\":false,\"gks\":{\"platform_oauth_client_events\":true,\"visibility_tracking\":true,\"boosted_pagelikes\":true},\"known_routes\":[\"artillery_javascript_actions\",\"artillery_javascript_trace\",\"artillery_logger_data\",\"logger\",\"falco\",\"gk2_exposure\",\"js_error_logging\",\"loom_trace\",\"marauder\",\"perfx_custom_logger_endpoint\",\"qex\",\"require_cond_exposure_logging\",\"sri_logger_data\"],\"should_drop_unknown_routes\":true,\"should_log_unknown_routes\":false},32],[\"cr:692209\",[\"cancelIdleCallbackBlue\"],{\"__rc\":[\"cancelIdleCallbackBlue\",\"Aa2KDNOS9s8NUz-46FfR4ipdKxIhTJ1nwBxcXpVVPg9pbZeODu4RfsQjoE3Q64zgy3m7ogCnF60xipXTxQ5wz9S3Wd8\"]},-1]],\"instances\":[[\"__inst_fa38052d_o9rdiu_0_lQ\",[\"MGraphSearchResultsLogger\"],[\"b71144e0c558660ee50c9c463cc04efd\",\"b71144e0c558660ee50c9c463cc04efd\"],1]],\"elements\":[[\"__elem_eb521947_o9rdiu_0_zS\",\"u_o9rdiu_5_x0\",1]],\"require\":[[\"__inst_fa38052d_o9rdiu_0_lQ\"],[\"MGraphSearchPostResultHighlighter\",\"highlight\",[\"__elem_eb521947_o9rdiu_0_zS\"],[{\"__m\":\"__elem_eb521947_o9rdiu_0_zS\"},[\"\\u043c\\u0435\\u0436\\u043d\\u0430\\u0446\\u0438\\u043e\\u043d\\u0430\\u043b\\u044c\\u043d\\u044b\\u0439\",\"\\u043f\\u0435\\u0442\\u0435\\u0440\\u0431\\u0443\\u0440\\u0433\",\"\\u043a\\u043e\\u043d\\u0444\\u043b\\u0438\\u043a\\u0442\"]]],[\"MExposeMore\",\"init\",[],[{\"seeMoreSwitchExpandOnly\":false}]],[\"FbtLogging\"],[\"IntlQtEventFalcoEvent\"],[\"BanzaiScuba_DEPRECATED\"],[\"RequireDeferredReference\",\"unblock\",[],[[\"FbtLogging\",\"IntlQtEventFalcoEvent\",\"BanzaiScuba_DEPRECATED\"],\"sd\"]],[\"RequireDeferredReference\",\"unblock\",[],[[\"FbtLogging\",\"IntlQtEventFalcoEvent\",\"BanzaiScuba_DEPRECATED\"],\"css\"]]],\"pre_display_requires\":[[\"MSearchVPVTracker\",\"track\",[],[{\"key\":\"u_o9rdiu_0_2T\",\"metaData\":{\"session_id\":\"b71144e0c558660ee50c9c463cc04efd\",\"logging_unit_id\":\"browse_ml:65676f23-7146-45ea-b005-b0e64dd70f69\",\"unit_id_result_id\":null,\"is_bootstrap_entity_module\":false}}],4],[\"MSearchVPVTracker\",\"track\",[],[{\"key\":\"u_o9rdiu_2_Wc\",\"metaData\":{\"session_id\":\"b71144e0c558660ee50c9c463cc04efd\",\"logging_unit_id\":\"browse_rl:9964d9b4-19c7-4de2-93b1-6109c66e35a3\",\"unit_id_result_id\":null,\"is_bootstrap_entity_module\":false}}],4]]});"}],"ajax_response_token":null,"contentless_response":false,"normalResources":["6K80aOS","sHVolir","iGVQymt","KLVPp+f","TY95h2B","2sYz7Yf","LkcGv99","Icgrwxx","Y5lYagc","7mvC4Dy","9ewG3vV","yX9s5uZ","ttlhdPS","iDFFdLv"],"displayResources":["A7kqsrd","UvFqPcu","mtWWAck"],"hsrp":{"hsdp":{"clpData":{"1744354":{"r":1,"s":1},"1848815":{"r":10000,"s":1},"1949898":{"r":1},"1838142":{"r":1,"s":1}},"gkxData":{"676837":{"result":false,"hash":"AT4N8wBZA8ctCdHwGDU"},"708253":{"result":false,"hash":"AT5n4hBL3YTMnQWtP7w"},"820050":{"result":false,"hash":"AT7bjlcFFlowDw-Sx6E"},"996940":{"result":false,"hash":"AT7opYuEGy3sjG1ayN0"},"1263340":{"result":false,"hash":"AT5bwizWgDaFQudmB30"},"1167394":{"result":false,"hash":"AT7BpN-tlUPwbIIFDbA"}}},"hblp":{"sr_revision":1004051597,"consistency":{"rev":1004051597},"rsrcMap":{"sHVolir":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yf\/r\/ZCA2ZMcMFGN.js?_nc_x=Ru4R67-WroS","nc":1},"A7kqsrd":{"type":"css","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yd\/l\/0,cross\/cnuhAYHCsAK.css?_nc_x=Ru4R67-WroS","nc":1},"6K80aOS":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yi\/r\/CM4xyfpKFAf.js?_nc_x=Ru4R67-WroS","nc":1},"iGVQymt":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yK\/r\/Zb6B9ZY7QS9.js?_nc_x=Ru4R67-WroS","nc":1},"KLVPp+f":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/y5\/r\/53U1D4jsw-l.js?_nc_x=Ru4R67-WroS","nc":1},"TY95h2B":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yL\/r\/hiKi86_jIMJ.js?_nc_x=Ru4R67-WroS","nc":1},"2sYz7Yf":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/ye\/r\/kVXO80f60me.js?_nc_x=Ru4R67-WroS","nc":1},"UvFqPcu":{"type":"css","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yZ\/l\/0,cross\/WsheVghBUUL.css?_nc_x=Ru4R67-WroS","nc":1},"mtWWAck":{"type":"css","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/ys\/l\/0,cross\/xVZFpEceXFW.css?_nc_x=Ru4R67-WroS","nc":1},"LkcGv99":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yZ\/r\/8jNvf7YfSu4.js?_nc_x=Ru4R67-WroS","nc":1},"Icgrwxx":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yv\/r\/pu_kYzi9O0B.js?_nc_x=Ru4R67-WroS","nc":1},"Y5lYagc":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yk\/r\/qp-32N2fDDO.js?_nc_x=Ru4R67-WroS","nc":1},"7mvC4Dy":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yc\/r\/gW8xCQXBcPS.js?_nc_x=Ru4R67-WroS","nc":1},"9ewG3vV":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yK\/r\/rQiJgLVM84Y.js?_nc_x=Ru4R67-WroS","nc":1},"yX9s5uZ":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yI\/r\/LmYnt3RjzAa.js?_nc_x=Ru4R67-WroS","nc":1},"ttlhdPS":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yJ\/r\/oOd9jdsQKOE.js?_nc_x=Ru4R67-WroS","nc":1},"iDFFdLv":{"type":"js","src":"https:\/\/static.xx.fbcdn.net\/rsrc.php\/v3\/yn\/r\/UwRU3eR66t8.js?_nc_x=Ru4R67-WroS","nc":1}},"compMap":{"ODS":{"r":["sHVolir"],"be":1}}}}}}'

    find_value(text, 'cursor=', num_sep_chars=0, separator='&amp')
    proxy = {'http': 'http://test:test@14.207.202.160:8080', 'https': 'https://test:test@14.207.202.160:8080'}

    session = requests.session()
    session.proxies = proxy
    # session.proxies.update(proxy)
    session.headers.update({
        'User-Agent': 'Mozilla/5.0 (X11; Linux i686; rv:39.0) Gecko/20100101 Firefox/39.0'
    })
    print('session start')

    fb_dtsg, user_id, xs, token = login(session, "79670182743", 'cJYCsJYClsHBCwHBCl29205')
    print('fb_dtsg')
    print(fb_dtsg)
    print('user_id')
    print(user_id)
    print('xs')
    print(xs)
    print('token')
    print(token)
    q = 'key'
    url = 'https://m.facebook.com/search/posts/?q=%s&source=filter&pn=8&isTrending=0&' \
          'fb_dtsg_ag=%s&__a=AYlcAmMg3mcscBWQCbVswKQbSUum-R7WYoZMoRSwBlJp6gjuv2v2LwCzB_1ZZe4khj4N2vM7UjQWttgYqsq7DxeUlgmEVmSge5LOz1ZdWHEGQQ' % (
              q, token)

    headers = {'cookie': 'c_user=' + user_id + '; xs=' + xs + ';'}

    res = requests.get(url, headers=headers, proxies=proxy)

    res_json = json.loads(res.text.replace("for (;;);", ''))
    last_story_fbid = None
    id = None
    print('get_ dataa')
    print(res.text)

    print('res_json')
    print(res_json)
    print("html")
    urls = []
    result= []
    for story in re.findall(r'story_fbid=\d+&amp;id=\d+', res_json['payload']['actions'][0]['html']):
        data_url = story.split('&amp;')
        if last_story_fbid != data_url[0] or id != data_url[1]:
            if story not in urls:
                last_story_fbid = data_url[0]
                id = data_url[1]
                result.append(data_url[0].replace('story_fbid=', '') + '&' + data_url[1].replace('id=', ''))
    for story in re.findall(r'groups/\d+/permalink/\d+', res_json['payload']['actions'][0]['html']):
        data_url = story.split('/permalink/')
        if last_story_fbid != data_url[0] or id != data_url[1]:
            if story not in urls:
                last_story_fbid = data_url[0].replace('groups/', '')
                id = data_url[1]
                urls.append(story)
                result.append(data_url[1] + '&' + data_url[0].replace('groups/', ''))

    cursor = find_value(res.text, 'cursor=', num_sep_chars=0, separator='&amp')
    print("RESULT")
    print(result)

    return Response(str(result))


